<!-- Navbar solo visible cuando est치s autenticado -->
@if (showNavbar()) {
  <div style="padding: 20px; background: #333; color: white;">
    <div style="display: flex; justify-content: space-between; align-items: center;">
      <h1 style="margin: 0;">StepGuard IoT - Sistema de Detecci칩n de Ca칤das</h1>
      <div style="display: flex; align-items: center; gap: 20px;">
        @if (auth.currentUser()) {
          <div style="display: flex; align-items: center; gap: 10px;">
            <div style="text-align: right;">
              <div style="color: white; font-weight: 600;">游녻 {{ auth.currentUser()?.fullName }}</div>
              <div style="font-size: 12px; color: #aaa;">
                @if (auth.currentUser()?.role === 'admin') {
                  <span style="background: #dc3545; padding: 2px 8px; border-radius: 3px; color: white;">游댏 Administrador</span>
                }
                @if (auth.currentUser()?.role === 'caregiver') {
                  <span style="background: #28a745; padding: 2px 8px; border-radius: 3px; color: white;">游낀 Cuidador</span>
                }
                @if (auth.currentUser()?.role === 'user') {
                  <span style="background: #007bff; padding: 2px 8px; border-radius: 3px; color: white;">游논 Usuario</span>
                }
              </div>
            </div>
            <button (click)="logout()" 
                    style="padding: 8px 16px; background: #dc3545; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 500;">
              Cerrar Sesi칩n
            </button>
          </div>
        }
      </div>
    </div>
    <nav style="margin: 20px 0;">
      <a routerLink="/dashboard" 
         routerLinkActive="active"
         style="color: cyan; margin-right: 20px; text-decoration: none; padding: 8px 12px; border-radius: 4px;">
        Dashboard
      </a>
      <a routerLink="/devices" 
         routerLinkActive="active"
         style="color: cyan; margin-right: 20px; text-decoration: none; padding: 8px 12px; border-radius: 4px;">
        Dispositivos
      </a>
      @if (auth.currentUser()?.role === 'admin') {
        <a routerLink="/users" 
           routerLinkActive="active"
           style="color: #ff4444; text-decoration: none; padding: 8px 12px; border-radius: 4px; border: 1px solid #ff4444;">
          游논 Usuarios
        </a>
      }
    </nav>
  </div>
}

<!-- Contenido principal -->
<router-outlet></router-outlet>